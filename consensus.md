# CSC共识介绍

`CSC`采用`CPoS`共识机制，在支撑高性能交易的基础上实现对以太坊虚拟机（EVM）完全兼容，同时支持最多101个验证人节点，任何人只要愿意做节点，都可以通过质押`CET`成为节点，而无需任何许可认证。

`CSC`的目标为：
1. 更短的出块时间
2. 尽可能与以太坊兼容
3. 去中心化

## CPoS共识

尽管工作量证明（PoW）已被证明为实现去中心化网络的实用方案，但它对环境并不友好，而且还需要大量参与者来维护网络安全。以太坊及一些其他网络在不同的场景中使用权威证明（PoA）或其变体，包括测试网络和主网。PoA为51%的攻击提供了防御，更有效的防止一部分拜占庭节点作恶。但PoA协议不够去中心化，验证人拥有极大的权力，容易产生腐败和遭受安全攻击。因此一些区块链项目在保证网络安全及稳定性，而又不失去中心化的前提下引入其他的共识方案，如EOS、Cosmos采用的委托权益证明(DPos），允许代币持有者投票选举验证人节点，让网络更加去中心化且利于社区管理。

Coinex团队经过调研，秉承去中心化的原则，在不失网络稳定性、安全性的情况下，结合`PoS`及`PoA`的特点，实现`CPoS`。`CPoS`的特点：

1. 区块是由最多101个验证节点生成
2. 任何人都可以通过质押都可以成为验证节点，而无需任何许可
3. 验证节点轮流生成区块，当节点正常出块时难度为2，未按照预定顺序产块时难度为1，当区块分叉时，选择难度最大的链。
4. 任何人都可以给自己信任的节点进行质押

## 基本概念

1. 验证节点

任何人通过质押`CET`竞选验证节点，第一笔质押必须大于`10000CET`，随后的每笔质押必须大于`1000CET`。区块链在每间隔200个区块选取排名前101的节点作为验证节点。验证节点具有出块及链上校验的义务，作为回报，验证节点将根据质押占比得到获得区块手续费奖励及一定的出块奖励（目前为: `1CET`）。

2. 质押

任何人都可以通过质押`CET`助力节点成为验证节点。如果想取回质押，可以直接通过合约调用或者命令行操作解除质押，然后经过86400个区块后即可提取质押的`CET`。

3. 系统合约

`CSC`通过系统合约来管理节点的质押及治理。系统合约在csc链启动之后就已经部署，目前`CSC`设计两个系统合约：

* 验证节点合约

通过验证节点合约，任何人可以创建节点，给节点质押，提取收益。

* 惩罚合约

由于网络、硬件及配置等因素，节点机器容易出现网络异常、机器奔溃等问题，从而导致`CSC`不稳定。`CSC`引入惩罚机制。惩罚合约主要是负责记录验证节点错块记录，当错块记录达到一定的阈值，节点的质押资产将被罚没`500CET`。

## 奖励
验证节点的奖励主要来源两个方面：区块奖励（`1CET`）及每个区块的交易中收取的手续费。根据质押占总质押的比例每个验证节点将得到不同的奖励。由于验证节点是以相同的概率轮流生成区块（如果它们保持100%在线），因此验证节点的收益只与他的质押占比有关。

区块链每间隔200个区块按质押比例将奖励进行分配。验证节点收益接收地址可以调用合约或通过[命令行操作](/validator_cli.md)取回奖励。每隔28800个区块可以提取一次奖励。

## 惩罚
`CSC`对不能正常出块的验证节点进行惩罚。所有验证节点轮流出块，当轮到某个节点出块而不能正常出块时，错块记录加一。每间隔200个区块会将所有有漏块记录的节点的错块记录减1。当节点错块记录等于48时，节点的质押资产将被罚没`500CET`。如果有多个地址给这个节点质押，将按质押比例进行惩罚。

你可以调用合约或通过[命令行操作](/validator_cli.md)查看节点的错块记录。
